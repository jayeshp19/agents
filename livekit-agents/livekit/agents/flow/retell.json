{
    "conversation_flow_id": "conversation_flow_5f56baba12d1",
    "version": 0,
    "global_prompt": "You're Myra, Retell Delivery's support.\n\nYou can help user with checking their order and refund for a previous purchase. You cannot help with tasks other than those.\n\nYou operate in a call, and the user text might contain transcription error. Do your best to guess and understand. Ask for clarifying questions if needed.",
    "nodes": [
        {
            "instruction": {
                "type": "static_text",
                "text": "Hello this is Retell Delivery customer support department, how can I help you today?"
            },
            "name": "Welcome Node",
            "edges": [],
            "start_speaker": "agent",
            "id": "start-node-1735257992613",
            "type": "conversation",
            "display_position": {
                "x": 500,
                "y": 198
            }
        },
        {
            "finetune_conversation_examples": [],
            "instruction": {
                "type": "prompt",
                "text": "Ask user what's the reason for their refund request."
            },
            "name": "Refund start",
            "edges": [
                {
                    "condition": "if the reason is not reasonable",
                    "id": "edge-1735258172746",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "if the reason is not reasonable"
                    },
                    "destination_node_id": "node-1736564414014"
                },
                {
                    "condition": "if the reason is reasonable",
                    "id": "edge-1735258439867",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "if the reason is reasonable"
                    },
                    "destination_node_id": "node-1736564330428"
                }
            ],
            "global_node_setting": {
                "condition": "User needs to initiate a refund of a purchase"
            },
            "id": "node-1735258172746",
            "type": "conversation",
            "display_position": {
                "x": 0,
                "y": 862
            }
        },
        {
            "instruction": {
                "type": "prompt",
                "text": "Ask for the order id needed to check for status for."
            },
            "name": "Check order status start",
            "edges": [
                {
                    "condition": "Order id obtained",
                    "id": "edge-1736564736468",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "Order id obtained"
                    },
                    "destination_node_id": "node-1736319066053"
                }
            ],
            "global_node_setting": {
                "condition": "User needs to initiate a check of order status, or track shipping or an order"
            },
            "id": "node-1735258300293",
            "type": "conversation",
            "display_position": {
                "x": 1000,
                "y": 0
            }
        },
        {
            "tool_id": "tool-1735258495443",
            "name": "Refund",
            "edges": [
                {
                    "condition": "refund successful",
                    "id": "edge-1735258504620",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "refund successful"
                    },
                    "destination_node_id": "node-1736563726474"
                },
                {
                    "condition": "refund unsuccessful",
                    "id": "edge-1736563612117",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "refund unsuccessful"
                    },
                    "destination_node_id": "node-1736564247278"
                }
            ],
            "id": "node-1735258497049",
            "type": "function",
            "tool_type": "local",
            "speak_during_execution": false,
            "display_position": {
                "x": 1000,
                "y": 567
            },
            "wait_for_result": true
        },
        {
            "instruction": {
                "type": "static_text",
                "text": "Sorry there is a problem with our telephony routing system. My supervisor will follow up with you after this call soon."
            },
            "name": "Conversation",
            "edges": [
                {
                    "condition": "hang up the call",
                    "id": "edge-1735258555254",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "hang up the call"
                    }
                }
            ],
            "global_node_setting": {
                "condition": "if there any problem"
            },
            "id": "node-1735258555254",
            "type": "conversation",
            "display_position": {
                "x": 2500,
                "y": 904
            },
            "skip_response_edge": {
                "condition": "Skip response",
                "id": "edge-1736563504612",
                "transition_condition": {
                    "type": "prompt",
                    "prompt": "Skip response"
                },
                "destination_node_id": "node-1735258611429"
            }
        },
        {
            "name": "End Call",
            "id": "node-1735258611429",
            "type": "end",
            "display_position": {
                "x": 3000,
                "y": 1029
            },
            "instruction": {
                "type": "prompt",
                "text": "Politely end the call"
            }
        },
        {
            "tool_id": "tool-1736319030065",
            "name": "Check order status",
            "edges": [
                {
                    "condition": "got the order detail",
                    "id": "edge-1736319099474",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "got the order detail"
                    },
                    "destination_node_id": "node-1736319113973"
                }
            ],
            "id": "node-1736319066053",
            "type": "function",
            "tool_type": "local",
            "speak_during_execution": false,
            "display_position": {
                "x": 1500,
                "y": 76
            },
            "wait_for_result": true
        },
        {
            "name": "Conversation",
            "edges": [
                {
                    "condition": "user has no more questions",
                    "id": "edge-1736319338043",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "user has no more questions"
                    },
                    "destination_node_id": "node-1736565126113"
                }
            ],
            "id": "node-1736319113973",
            "type": "conversation",
            "display_position": {
                "x": 2000,
                "y": 15
            },
            "instruction": {
                "type": "prompt",
                "text": "Tell user you've got the order pull up, answer any questions they have with it."
            }
        },
        {
            "name": "Conversation",
            "edges": [
                {
                    "condition": "No more help needed",
                    "id": "edge-1736563726474",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "No more help needed"
                    },
                    "destination_node_id": "node-1736565126113"
                }
            ],
            "id": "node-1736563726474",
            "type": "conversation",
            "display_position": {
                "x": 2000,
                "y": 528
            },
            "instruction": {
                "type": "prompt",
                "text": "Tell user that you've already refunded to their original method of payment. Ask if they need any additional help."
            }
        },
        {
            "instruction": {
                "type": "static_text",
                "text": "It seems like there some technical issues with our system right now, let me transfer you to our representative to help further. Please hold on."
            },
            "name": "Conversation",
            "edges": [
                {
                    "condition": "Describe the transition condition",
                    "id": "edge-1736564247278",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "Describe the transition condition"
                    }
                }
            ],
            "id": "node-1736564247278",
            "type": "conversation",
            "display_position": {
                "x": 1500,
                "y": 330
            },
            "skip_response_edge": {
                "condition": "Skip response",
                "id": "edge-1736564289941",
                "transition_condition": {
                    "type": "prompt",
                    "prompt": "Skip response"
                }
            }
        },
        {
            "name": "Conversation",
            "edges": [
                {
                    "condition": "order id obtained",
                    "id": "edge-1736564330428",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "order id obtained"
                    },
                    "destination_node_id": "node-1735258497049"
                }
            ],
            "id": "node-1736564330428",
            "type": "conversation",
            "display_position": {
                "x": 500,
                "y": 528
            },
            "instruction": {
                "type": "prompt",
                "text": "ask user for the order id that they want to refund for."
            }
        },
        {
            "instruction": {
                "type": "prompt",
                "text": "Tell user you will need to involve your supervisor to help with their request, and you are transferring the call"
            },
            "name": "Conversation",
            "edges": [
                {
                    "condition": "Describe the transition condition",
                    "id": "edge-1736564414014",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "Describe the transition condition"
                    }
                }
            ],
            "id": "node-1736564414014",
            "type": "conversation",
            "display_position": {
                "x": 1500,
                "y": 919
            },
            "skip_response_edge": {
                "condition": "Skip response",
                "id": "edge-1736564494441",
                "transition_condition": {
                    "type": "prompt",
                    "prompt": "Skip response"
                }
            }
        },
        {
            "instruction": {
                "type": "prompt",
                "text": "Politely say goodbye"
            },
            "name": "Conversation",
            "edges": [
                {
                    "condition": "Describe the transition condition",
                    "id": "edge-1736565126113",
                    "transition_condition": {
                        "type": "prompt",
                        "prompt": "Describe the transition condition"
                    }
                }
            ],
            "id": "node-1736565126113",
            "type": "conversation",
            "display_position": {
                "x": 2500,
                "y": 528
            },
            "skip_response_edge": {
                "condition": "Skip response",
                "id": "edge-1736565853445",
                "transition_condition": {
                    "type": "prompt",
                    "prompt": "Skip response"
                },
                "destination_node_id": "node-1735258611429"
            }
        }
    ],
    "start_node_id": "start-node-1735257992613",
    "start_speaker": "agent",
    "tools": [
        {
            "name": "refund_order",
            "description": "",
            "tool_id": "tool-1735258495443",
            "type": "custom",
            "parameters": {
                "type": "object",
                "properties": {
                    "order_id": {
                        "type": "string",
                        "description": "The id of the order to refund."
                    }
                },
                "required": [
                    "order_id"
                ]
            },
            "url": "https://api.retellai.com/random_status"
        },
        {
            "name": "check_order",
            "description": "Check order status given an order id.",
            "tool_id": "tool-1736319030065",
            "type": "custom",
            "parameters": {
                "type": "object",
                "properties": {
                    "order_id": {
                        "type": "string",
                        "description": "The id of the order to check."
                    }
                },
                "required": [
                    "order_id"
                ]
            },
            "url": "https://api.retellai.com/var_test"
        }
    ],
    "model_choice": {
        "type": "cascading",
        "model": "gpt-4.1"
    },
    "begin_tag_display_position": {
        "x": 111.5,
        "y": 299
    },
    "is_published": false
}